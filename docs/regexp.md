正则表达式
===========

[TOC]

## 是什么？

* 处理文本的工具
* 记录文本规则的代码


## 单个字符

| 字符     | 说明                                      |
| -------- | ----------------------------------------- |
| 普通字符 | 例如`a`、`好`等单个字符，就是匹配他们本身 |
| .        | 除换行符以外任意字符                      |
| \s       | 空白字符                                  |
| \S       | 非空白字符                                |
| \w       | 数字、字母或下划线                        |
| \W       | 非数字、字母或下划线                      |
| \d       | 数字                                      |
| \D       | 非数字                                    |
| [a-z]    | 字符序列之一，也可以写`[b-d]`             |
| [A-Z]    | 字符序列之一                              |
| [0-9]    | 字符序列之一，等价于`\d`                  |
| [a-zA-Z] | 字符序列之一                              |
| [abc]    | 字符集合之一                              |
| [^abc]   | 除了字符集合的以外字符                    |
| [^\d]    | 除了数字的以外字符，等价于`\D`            |

## 量词

| 字符  | 说明           |
| ----- | -------------- |
| ?     | 重复零次或一次 |
| *     | 重复零次或多次 |
| +     | 重复一次或多次 |
| {n}   | 重复n次        |
| {n,}  | 重复n次以上    |
| {m,n} | 重复m到n次     |


## 字符边界

| 字符 | 说明           |
| ---- | -------------- |
| ^    | 匹配开始       |
| $    | 匹配结尾       |
| \b   | 匹配单词边界   |
| \B   | 匹配非字符边界 |


## 分组、选择与引用
| 字符         | 说明                                                         |
| :----------- | ------------------------------------------------------------ |
| (abc)        | 匹配字符串`abc`并放到分组中                                  |
| (a\|b\|c)    | 匹配字符`a`、`b`或`c`并放到分组中                            |
| (abc)\1      | 匹配字符串`abc`并放到分组中，引用分组1，也就是匹配`abcabc`   |
| (?:exp)      | 匹配字符串`exp`但是不放到分组中                              |
| (?=exp)      | 匹配exp前面的位置，例如<br />`/foo(?=bar)/gm` <br />`foobar foobaz`<br />能匹配`foobar`中的`foo`，不能匹配`foobaz`的`foo` |
| (?<=exp)     | 匹配exp后面的位置                                            |
| (?!exp)      | 匹配后面跟的不是exp的位置                                    |
| (?<!exp)     | 匹配前面不是exp的位置                                        |
| (?#comment)  | 注释，不影响正则表达式                                       |
| (?\<name\>exp) | 匹配exp,并捕获文本到名称为name的组里，也可以写成(?'name'exp) |


## 修饰符
| 字符 | 说明         |
| ---- | ------------ |
| g    | 全局匹配     |
| i    | 不区分大小写 |
| m    | 多行匹配     |
| u    | Unicode模式  |

## 转义字符

| 字符 | 说明        |
| ---- | ----------- |
| \n   | 换行符      |
| \t   | 制表符，Tab |
| \v   | 竖向制表符  |
| \f   | 换页符      |



## 其他注意事项

* `^`写在`[]`外面表示匹配开始，写在里面表示取反
* `[]`中不能写分组和选择语法，例如：`[(ab)|c]`是错误的，其实际含义则是匹配`(ab)|c`中的一个字符
* 本教程是针对PHP进行的，有些分组语法可能在其他语言中不支持。

## 相关网站

* [正则表达式教程——语法篇](https://zhuanlan.zhihu.com/p/28672572)
* [正则表达式30分钟入门教程](https://www.jb51.net/tools/zhengze.html)
* [Online regex tester and debugger](https://regex101.com/)
* [regexper](https://regexper.com/ "将正则图形化显示")
* [Regulex](https://jex.im/regulex "将正则图形化显示")